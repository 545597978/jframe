<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Jframe Manual</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="Jframe Manual"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2014-05-13T11:04+0800"/>
<meta name="author" content="戴忠"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Jframe Manual</h1>



<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 工程目录</a>
<ul>
<li><a href="#sec-1-1">1.1 下载地址</a></li>
<li><a href="#sec-1-2">1.2 工程说明</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1 项目checkout目录结构</a></li>
<li><a href="#sec-1-2-2">1.2.2 Maven说明</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-2">2 安装/使用</a>
<ul>
<li><a href="#sec-2-1">2.1 运行环境</a></li>
<li><a href="#sec-2-2">2.2 构建启动</a></li>
</ul>
</li>
<li><a href="#sec-3">3 框架配置</a>
<ul>
<li><a href="#sec-3-1">3.1 启动脚本</a></li>
<li><a href="#sec-3-2">3.2 框架日志</a></li>
<li><a href="#sec-3-3">3.3 config.properties</a></li>
<li><a href="#sec-3-4">3.4 vmargs[-win]</a></li>
</ul>
</li>
<li><a href="#sec-4">4 编写Plugin</a>
<ul>
<li><a href="#sec-4-1">4.1 插件示例</a></li>
<li><a href="#sec-4-2">4.2 开发插件</a></li>
<li><a href="#sec-4-3">4.3 插件使用技巧</a>
<ul>
<li><a href="#sec-4-3-1">4.3.1 插件间互相调用</a></li>
<li><a href="#sec-4-3-2">4.3.2 获取配置更新</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-5">5 调试/性能</a>
<ul>
<li><a href="#sec-5-1">5.1 远程调试</a>
<ul>
<li><a href="#sec-5-1-1">5.1.1 调试守护进程(Main)</a></li>
<li><a href="#sec-5-1-2">5.1.2 调试框架进程(FrameMain)</a></li>
</ul>
</li>
<li><a href="#sec-5-2">5.2 本地调试</a></li>
<li><a href="#sec-5-3">5.3 使用jvisualvm</a></li>
</ul>
</li>
<li><a href="#sec-6">6 核心插件</a>
<ul>
<li><a href="#sec-6-1">6.1 jframe-watch</a>
<ul>
<li><a href="#sec-6-1-1">6.1.1 功能</a></li>
<li><a href="#sec-6-1-2">6.1.2 配置</a></li>
</ul>
</li>
<li><a href="#sec-6-2">6.2 jframe-upg</a></li>
<li><a href="#sec-6-3">6.3 jframe-rcp</a></li>
</ul>
</li>
<li><a href="#sec-7">7 源码分析</a>
<ul>
<li><a href="#sec-7-1">7.1 启动/关闭</a></li>
<li><a href="#sec-7-2">7.2 加载插件</a></li>
<li><a href="#sec-7-3">7.3 消息分发</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 工程目录</h2>
<div class="outline-text-2" id="text-1">


</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> 下载地址</h3>
<div class="outline-text-3" id="text-1-1">

<p>git clone <a href="https://github.com/dzh/jframe.git">https://github.com/dzh/jframe.git</a>
</p></div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> 工程说明</h3>
<div class="outline-text-3" id="text-1-2">


</div>

<div id="outline-container-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> 项目checkout目录结构</h4>
<div class="outline-text-4" id="text-1-2-1">

<p><i>注: 以下结构可能与实际稍不同</i>
</p>


<pre class="example">- jframe                            #checkout目录
  - doc                             #项目文档
  - jframe                          #jframe框架根目录，注意在eclipse里选择它install,不要在下面的module项目上install
    - backup                        #存放一些文件，用户备份
    - jframe-core                   #框架核心
    - jframe-example-plugin         #演示插件编写的示例插件
    - jframe-ext                    #jframe-core的扩展
    - jframe-launcher               #启动Main函数
    - jframe-release                #install构建的jframe结构，一定要在jframe根目录install
      - jframe                      #这个目录之下，代表了jframe框架的程序结构布局
        - bin                       #启动、停止脚本
        - conf                      #配置文件，包括config.properties、vmargs、logback.xml等
        - doc                       #文档  
        - lib                       #公共lib库,动态dll|so默认目录,由系统类加载器加载
        - log                       #默认日志输出目录
        - plugin                    #默认插件目录,下面的插件有插件类加载器加载
        - temp                      #默认临时目录,如存放进程pid文件等
        - update                    #默认系统更新目录,upg更新插件使用
    - jframe-swt                    #jframe的swt插件实现,这个示例还没做好,目前演示了将jframe用于C端的方式
    - jframe-watch                  #资源更新插件,跟踪配置文件的修改并通知其他插件
  - jframe-plugins                  #jframe实现的一些插件
</pre>

</div>

</div>

<div id="outline-container-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> <span class="todo TODO">TODO</span> Maven说明</h4>
<div class="outline-text-4" id="text-1-2-2">

<ul>
<li>jframe项目使用eclipse+maven开发和管理
</li>
<li>在eclipse里通过在jframe和jframe-plugins上install后，将直接构建最后的发布格式
<ul>
<li>如jframe构建后的jframe-release即所有使用jframe框架应用程序的一般目录布局（可以通过config.properties定制）
</li>
<li>jframe-plugins构建说明
</li>
</ul>

</li>
</ul>


</div>
</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 安装/使用</h2>
<div class="outline-text-2" id="text-2">


</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> 运行环境</h3>
<div class="outline-text-3" id="text-2-1">

<ul>
<li>oracle jdk1.5以上
</li>
<li>支持linux、windows
</li>
<li>Eclipse+Maven插件+git插件
</li>
</ul>

</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> 构建启动</h3>
<div class="outline-text-3" id="text-2-2">

<ul>
<li>将clone到本地目录里的jframe项目导入到eclipse里
</li>
</ul>


<div id="" class="figure">
<p><img src="../doc/images/eclipse-jframe-structure.jpeg"  alt="../doc/images/eclipse-jframe-structure.jpeg" /></p>
<p>Eclipse里jframe框架项目结构</p>
</div>

</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 框架配置</h2>
<div class="outline-text-2" id="text-3">


</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> 启动脚本</h3>
<div class="outline-text-3" id="text-3-1">

</div>

</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> 框架日志</h3>
<div class="outline-text-3" id="text-3-2">

</div>

</div>

<div id="outline-container-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> config.properties</h3>
<div class="outline-text-3" id="text-3-3">

</div>

</div>

<div id="outline-container-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> vmargs[-win]</h3>
<div class="outline-text-3" id="text-3-4">


</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> 编写Plugin</h2>
<div class="outline-text-2" id="text-4">


</div>

<div id="outline-container-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> 插件示例</h3>
<div class="outline-text-3" id="text-4-1">

</div>

</div>

<div id="outline-container-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> 开发插件</h3>
<div class="outline-text-3" id="text-4-2">

</div>

</div>

<div id="outline-container-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> 插件使用技巧</h3>
<div class="outline-text-3" id="text-4-3">


</div>

<div id="outline-container-4-3-1" class="outline-4">
<h4 id="sec-4-3-1"><span class="section-number-4">4.3.1</span> 插件间互相调用</h4>
<div class="outline-text-4" id="text-4-3-1">

</div>

</div>

<div id="outline-container-4-3-2" class="outline-4">
<h4 id="sec-4-3-2"><span class="section-number-4">4.3.2</span> 获取配置更新</h4>
<div class="outline-text-4" id="text-4-3-2">


</div>
</div>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> 调试/性能</h2>
<div class="outline-text-2" id="text-5">


</div>

<div id="outline-container-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> 远程调试</h3>
<div class="outline-text-3" id="text-5-1">


</div>

<div id="outline-container-5-1-1" class="outline-4">
<h4 id="sec-5-1-1"><span class="section-number-4">5.1.1</span> 调试守护进程(Main)</h4>
<div class="outline-text-4" id="text-5-1-1">

</div>

</div>

<div id="outline-container-5-1-2" class="outline-4">
<h4 id="sec-5-1-2"><span class="section-number-4">5.1.2</span> 调试框架进程(FrameMain)</h4>
<div class="outline-text-4" id="text-5-1-2">

</div>
</div>

</div>

<div id="outline-container-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> 本地调试</h3>
<div class="outline-text-3" id="text-5-2">

</div>

</div>

<div id="outline-container-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> 使用jvisualvm</h3>
<div class="outline-text-3" id="text-5-3">

<ul>
<li>性能监控配置
</li>
<li>
</li>
</ul>


</div>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> 核心插件</h2>
<div class="outline-text-2" id="text-6">


</div>

<div id="outline-container-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> jframe-watch</h3>
<div class="outline-text-3" id="text-6-1">


</div>

<div id="outline-container-6-1-1" class="outline-4">
<h4 id="sec-6-1-1"><span class="section-number-4">6.1.1</span> 功能</h4>
<div class="outline-text-4" id="text-6-1-1">

</div>

</div>

<div id="outline-container-6-1-2" class="outline-4">
<h4 id="sec-6-1-2"><span class="section-number-4">6.1.2</span> 配置</h4>
<div class="outline-text-4" id="text-6-1-2">

</div>
</div>

</div>

<div id="outline-container-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> jframe-upg</h3>
<div class="outline-text-3" id="text-6-2">

</div>

</div>

<div id="outline-container-6-3" class="outline-3">
<h3 id="sec-6-3"><span class="section-number-3">6.3</span> jframe-rcp</h3>
<div class="outline-text-3" id="text-6-3">


</div>
</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> 源码分析</h2>
<div class="outline-text-2" id="text-7">


</div>

<div id="outline-container-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> 启动/关闭</h3>
<div class="outline-text-3" id="text-7-1">

</div>

</div>

<div id="outline-container-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> 加载插件</h3>
<div class="outline-text-3" id="text-7-2">

</div>

</div>

<div id="outline-container-7-3" class="outline-3">
<h3 id="sec-7-3"><span class="section-number-3">7.3</span> 消息分发</h3>
<div class="outline-text-3" id="text-7-3">




</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2014-05-13T11:04+0800</p>
<p class="author">Author: 戴忠</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.2 with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 23</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
